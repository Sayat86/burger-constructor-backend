-- =========================================
-- TEST DATA for burger_constructor
-- =========================================

-- (не обязательно) если где-то будешь использовать gen_random_uuid():
-- CREATE EXTENSION IF NOT EXISTS pgcrypto;

-- -----------------------------------------
-- USERS
-- -----------------------------------------
INSERT INTO users (id, email, name, password_hash, created_at, updated_at)
VALUES ('11111111-1111-1111-1111-111111111111', 'alice@example.com', 'Alice', '$2a$10$alice_hash', now(), now()),
       ('22222222-2222-2222-2222-222222222222', 'bob@example.com', 'Bob', '$2a$10$bob_hash', now(), now()),
       ('33333333-3333-3333-3333-333333333333', 'carol@example.com', 'Carol', '$2a$10$carol_hash', now(), now());

-- -----------------------------------------
-- INGREDIENTS
-- type можно использовать: bun | sauce | main | salad | cheese | spice
-- -----------------------------------------
#     name,calories,proteins,fat,carbohydrates
# 1. Краторная булка N-200i, 420,80

INSERT INTO ingredients (id, name, type,
                         proteins, fat, carbohydrates, calories,
                         price,
                         image, image_large, image_mobile)
VALUES ('aaaaaaaa-0000-0000-0000-000000000001', 'Булка белая', 'bun', 8, 5, 50, 280, 120.00, 'img/bun_white.png',
        'img/bun_white_l.png', 'img/bun_white_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000002', 'Булка ржаная', 'bun', 9, 6, 45, 270, 130.00, 'img/bun_rye.png',
        'img/bun_rye_l.png', 'img/bun_rye_m.png'),

       ('aaaaaaaa-0000-0000-0000-000000000003', 'Котлета говяжья', 'main', 26, 20, 1, 290, 390.00, 'img/beef_patty.png',
        'img/beef_patty_l.png', 'img/beef_patty_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000004', 'Котлета куриная', 'main', 23, 10, 2, 210, 320.00,
        'img/chicken_patty.png', 'img/chicken_patty_l.png', 'img/chicken_patty_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000005', 'Бекон', 'main', 12, 18, 1, 220, 260.00, 'img/bacon.png',
        'img/bacon_l.png', 'img/bacon_m.png'),

       ('aaaaaaaa-0000-0000-0000-000000000006', 'Сыр чеддер', 'cheese', 9, 12, 1, 150, 180.00, 'img/cheddar.png',
        'img/cheddar_l.png', 'img/cheddar_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000007', 'Сыр моцарелла', 'cheese', 8, 10, 2, 140, 170.00, 'img/mozzarella.png',
        'img/mozzarella_l.png', 'img/mozzarella_m.png'),

       ('aaaaaaaa-0000-0000-0000-000000000008', 'Салат айсберг', 'salad', 1, 0, 2, 15, 60.00, 'img/iceberg.png',
        'img/iceberg_l.png', 'img/iceberg_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000009', 'Помидор', 'salad', 1, 0, 3, 18, 50.00, 'img/tomato.png',
        'img/tomato_l.png', 'img/tomato_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000010', 'Огурец маринованный', 'salad', 1, 0, 2, 12, 55.00, 'img/pickles.png',
        'img/pickles_l.png', 'img/pickles_m.png'),

       ('aaaaaaaa-0000-0000-0000-000000000011', 'Соус барбекю', 'sauce', 0, 1, 12, 55, 75.00, 'img/bbq.png',
        'img/bbq_l.png', 'img/bbq_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000012', 'Соус чесночный', 'sauce', 1, 8, 3, 95, 80.00, 'img/garlic.png',
        'img/garlic_l.png', 'img/garlic_m.png'),
       ('aaaaaaaa-0000-0000-0000-000000000013', 'Острый соус', 'sauce', 0, 0, 5, 25, 70.00, 'img/hot.png',
        'img/hot_l.png', 'img/hot_m.png');

-- -----------------------------------------
-- ORDERS
-- number выставится автоматически через sequence order_number_seq
-- status можно: created | paid | cooking | delivered | cancelled
-- -----------------------------------------
INSERT INTO orders (id, user_id, status, name, created_at, updated_at)
VALUES ('bbbbbbbb-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'created', 'Бургер "Классик"',
        now(), now()),
       ('bbbbbbbb-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'paid', 'Бургер "Острый"',
        now(), now()),
       ('bbbbbbbb-0000-0000-0000-000000000003', '22222222-2222-2222-2222-222222222222', 'cooking', 'Бургер "BBQ Бекон"',
        now(), now()),
       ('bbbbbbbb-0000-0000-0000-000000000004', '33333333-3333-3333-3333-333333333333', 'delivered', 'Бургер "Куриный"',
        now(), now()),
       ('bbbbbbbb-0000-0000-0000-000000000005', NULL, 'cancelled', 'Гостевой заказ (отмена)', now(), now());

-- -----------------------------------------
-- ORDER_INGREDIENTS
-- quantity - сколько единиц ингредиента
-- -----------------------------------------

-- Order 1: "Классик"
INSERT INTO order_ingredients (order_id, ingredient_id, quantity)
VALUES ('bbbbbbbb-0000-0000-0000-000000000001', 'aaaaaaaa-0000-0000-0000-000000000001', 1), -- булка белая
       ('bbbbbbbb-0000-0000-0000-000000000001', 'aaaaaaaa-0000-0000-0000-000000000003', 1), -- говядина
       ('bbbbbbbb-0000-0000-0000-000000000001', 'aaaaaaaa-0000-0000-0000-000000000006', 1), -- чеддер
       ('bbbbbbbb-0000-0000-0000-000000000001', 'aaaaaaaa-0000-0000-0000-000000000008', 1), -- салат
       ('bbbbbbbb-0000-0000-0000-000000000001', 'aaaaaaaa-0000-0000-0000-000000000009', 1), -- томат
       ('bbbbbbbb-0000-0000-0000-000000000001', 'aaaaaaaa-0000-0000-0000-000000000012', 1);
-- чесночный соус

-- Order 2: "Острый"
INSERT INTO order_ingredients (order_id, ingredient_id, quantity)
VALUES ('bbbbbbbb-0000-0000-0000-000000000002', 'aaaaaaaa-0000-0000-0000-000000000002', 1), -- булка ржаная
       ('bbbbbbbb-0000-0000-0000-000000000002', 'aaaaaaaa-0000-0000-0000-000000000003', 1), -- говядина
       ('bbbbbbbb-0000-0000-0000-000000000002', 'aaaaaaaa-0000-0000-0000-000000000010', 1), -- огурчики
       ('bbbbbbbb-0000-0000-0000-000000000002', 'aaaaaaaa-0000-0000-0000-000000000013', 1), -- острый соус
       ('bbbbbbbb-0000-0000-0000-000000000002', 'aaaaaaaa-0000-0000-0000-000000000006', 1);
-- чеддер

-- Order 3: "BBQ Бекон"
INSERT INTO order_ingredients (order_id, ingredient_id, quantity)
VALUES ('bbbbbbbb-0000-0000-0000-000000000003', 'aaaaaaaa-0000-0000-0000-000000000001', 1), -- булка белая
       ('bbbbbbbb-0000-0000-0000-000000000003', 'aaaaaaaa-0000-0000-0000-000000000003', 2), -- двойная говядина
       ('bbbbbbbb-0000-0000-0000-000000000003', 'aaaaaaaa-0000-0000-0000-000000000005', 1), -- бекон
       ('bbbbbbbb-0000-0000-0000-000000000003', 'aaaaaaaa-0000-0000-0000-000000000011', 1), -- BBQ
       ('bbbbbbbb-0000-0000-0000-000000000003', 'aaaaaaaa-0000-0000-0000-000000000006', 1), -- чеддер
       ('bbbbbbbb-0000-0000-0000-000000000003', 'aaaaaaaa-0000-0000-0000-000000000009', 1);
-- томат

-- Order 4: "Куриный"
INSERT INTO order_ingredients (order_id, ingredient_id, quantity)
VALUES ('bbbbbbbb-0000-0000-0000-000000000004', 'aaaaaaaa-0000-0000-0000-000000000002', 1), -- булка ржаная
       ('bbbbbbbb-0000-0000-0000-000000000004', 'aaaaaaaa-0000-0000-0000-000000000004', 1), -- курица
       ('bbbbbbbb-0000-0000-0000-000000000004', 'aaaaaaaa-0000-0000-0000-000000000007', 1), -- моцарелла
       ('bbbbbbbb-0000-0000-0000-000000000004', 'aaaaaaaa-0000-0000-0000-000000000008', 1), -- салат
       ('bbbbbbbb-0000-0000-0000-000000000004', 'aaaaaaaa-0000-0000-0000-000000000012', 1);
-- чесночный соус

-- Order 5: guest cancelled
INSERT INTO order_ingredients (order_id, ingredient_id, quantity)
VALUES ('bbbbbbbb-0000-0000-0000-000000000005', 'aaaaaaaa-0000-0000-0000-000000000001', 1),
       ('bbbbbbbb-0000-0000-0000-000000000005', 'aaaaaaaa-0000-0000-0000-000000000004', 1),
       ('bbbbbbbb-0000-0000-0000-000000000005', 'aaaaaaaa-0000-0000-0000-000000000013', 1);

-- -----------------------------------------
-- REFRESH TOKENS
-- token можно любой (в реале это будет длинная строка/JWT/рандом)
-- -----------------------------------------
INSERT INTO refresh_tokens (id, token, user_id, expires_at)
VALUES ('cccccccc-0000-0000-0000-000000000001', 'refresh-token-alice-1', '11111111-1111-1111-1111-111111111111',
        now() + interval '7 days'),
       ('cccccccc-0000-0000-0000-000000000002', 'refresh-token-bob-1', '22222222-2222-2222-2222-222222222222',
        now() + interval '7 days'),
       ('cccccccc-0000-0000-0000-000000000003', 'refresh-token-carol-1', '33333333-3333-3333-3333-333333333333',
        now() + interval '7 days');

-- -----------------------------------------
-- PASSWORD RESET TOKENS
-- -----------------------------------------
INSERT INTO password_reset_tokens (id, token, user_id, expires_at)
VALUES ('dddddddd-0000-0000-0000-000000000001', 'pwd-reset-alice-1', '11111111-1111-1111-1111-111111111111',
        now() + interval '30 minutes'),
       ('dddddddd-0000-0000-0000-000000000002', 'pwd-reset-bob-1', '22222222-2222-2222-2222-222222222222',
        now() - interval '10 minutes'); -- просроченный (для теста)
